@import "../pages/mixins";

.footer {
  width: 100%;
  background-color: var(--footer-bg);

  /* -------------------------------------
  main layout
  ------------------------------------- */

  /* main container sizing & layout */
  & .footer-main-container {
    /* align children */
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    /* line up content edges */
    padding: var(--gutter);

    /* side by side layout on all but tiny screens */
    @add-mixin from-xs {
      padding-top: 3rem;
      padding-bottom: 3rem;

      /* nav column */
      & .footer-nav {
        width: 14rem;
      }
      /* stretchy logo column */
      & .footer-logo-container {
        width: calc(100% - 14rem - var(--gutter));
      }
    }
  }

  /* -------------------------------------
  footer nav
  ------------------------------------- */

  /* link style */
  & .footer-nav-link {
    @add-mixin nav-link;

    /* disabled "link"; coming soon */
    &.is-disabled {
      opacity: 0.333;
      pointer-events: none;
    }
  }

  /* current page */
  /* NOTE: there's some silly logic here to work around the way
  the react-router Link `activeClassname` prop
  deals with inheritence */
  & .footer-nav-item:not(:first-of-type) .footer-nav-link.is-active,
  & .footer-nav-item:first-of-type .footer-nav-link.is-home {
    color: var(--accent);
    opacity: 1;
  }

  /* -------------------------------------
  logos
  ------------------------------------- */

  /* adjust logo heading spacing */
  & .footer-logo-heading {
    margin-bottom: 0.75em; /* override blueprint */

    /* space out heading from links on tiny screens */
    @add-mixin for-xs {
      margin-top: 2rem;
    }
    @add-mixin from-md {
      margin-bottom: 0.25em;
    }
  }

  /* put logos into columns */
  & .footer-logo-list {
    column-width: 9rem;
    column-gap: 4rem;

    /* scale down logos on small screens */
    @add-mixin for-lg {
      column-width: 6rem;
      column-gap: 3rem;
    }
    @add-mixin for-md {
      column-width: 5rem;
      column-gap: 2rem;
    }
    @add-mixin for-sm {
      column-count: 3;
      column-gap: 15%;
    }

    /* space out logos */
    & .footer-logo-item {
      margin-bottom: 0.5rem;

      /* tweakpoint to center all but the first logo within columns on big screens */
      /* WARNING: extremely fudged */
      @media (min-width: 1371px) {
        &:not(:first-of-type) {
          text-align: center;
        }
      }
    }

    /* logo interactions */
    & .footer-logo-link {
      opacity: 0.75;

      &:hover, &:focus {
        opacity: 1;
      }
    }
  }

  /* space out logo blocks */
  & .footer-partner-logo-container {
    margin-bottom: 2rem;

    /* space it out moar */
    @add-mixin from-xs {
      margin-bottom: 3rem;
    }
    @add-mixin from-md {
      margin-bottom: 4rem;
    }
  }

  /* tweakpoint to move datawheel logo top right on giant screens */
  @add-mixin from-xxl {
    & .footer-dev-logo-container {
      position: absolute;
      top: 0;
      right: 0;
      text-align: right;
    }
  }

  /* -------------------------------------
  feedback
  ------------------------------------- */

  /* feedback container */
  & .footer-feedback-container {
    /* align with content edge */
    padding: 1.25rem var(--gutter-half); /* make up with link padding */
    text-align: center;
    /* theming */
    background-color: var(--near-black);

    /* feedback list items */
    & .footer-feedback-item {
      display: inline-block;
      padding: 0 var(--gutter-half);

      /* add bullet between adjacent feedback items */
      &:not(:last-of-type) {
        margin-right: 1em; /* increase spacing */

        &:after {
          content: 'â€¢';
          position: absolute;
          right: -0.625em;
        }
      }
    }

    /* feedback links */
    & .footer-feedback-link {
      @add-mixin nav-link;
    }

    /* move feedback to bottom right corner */
    @add-mixin from-lg {
      position: absolute;
      bottom: 0;
      right: 0;
    }
  }
}
